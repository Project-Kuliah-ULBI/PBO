<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoWaste - Dashboard Manajemen Sampah</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #10b981;
            --primary-dark: #059669;
            --primary-light: #d1fae5;
            --secondary: #3b82f6;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #111827;
            --darker: #030712;
            --light: #f9fafb;
            --gray: #6b7280;
            --gray-light: #e5e7eb;
            --sidebar-width: 280px;
            --sidebar-collapsed: 85px;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: var(--light);
            color: var(--dark);
            overflow-x: hidden;
        }

        /* Sidebar Styles */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: var(--sidebar-width);
            height: 100vh;
            background: var(--dark);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }

        .sidebar.collapsed {
            width: var(--sidebar-collapsed);
        }

        .sidebar-header {
            padding: 24px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            flex-shrink: 0;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .logo-text {
            color: white;
            font-size: 22px;
            font-weight: 700;
            white-space: nowrap;
            transition: opacity 0.3s;
            letter-spacing: -0.5px;
        }

        .sidebar.collapsed .logo-text {
            opacity: 0;
            width: 0;
        }

        .toggle-btn {
            position: absolute;
            right: -14px;
            top: 32px;
            width: 28px;
            height: 28px;
            background: var(--primary);
            border: 3px solid var(--dark);
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            z-index: 1001;
            font-size: 12px;
        }

        .sidebar.collapsed .toggle-btn {
            transform: rotate(180deg);
        }

        .toggle-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
        }

        .sidebar.collapsed .toggle-btn:hover {
            transform: rotate(180deg) scale(1.1);
        }

        .nav-menu {
            padding: 20px 16px;
            list-style: none;
            flex: 1;
            overflow-y: auto;
        }

        .nav-item {
            margin-bottom: 6px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 14px 18px;
            color: rgba(255,255,255,0.6);
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.25s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--primary);
            transform: scaleY(0);
            transition: transform 0.25s ease;
        }

        .nav-link:hover {
            background: rgba(255,255,255,0.05);
            color: rgba(255,255,255,0.9);
        }

        .nav-link.active {
            background: rgba(16, 185, 129, 0.15);
            color: var(--primary);
        }

        .nav-link.active::before {
            transform: scaleY(1);
        }

        .nav-link i {
            font-size: 20px;
            width: 24px;
            text-align: center;
            flex-shrink: 0;
            transition: transform 0.25s ease;
        }

        .nav-link:hover i {
            transform: scale(1.1);
        }

        .nav-text {
            white-space: nowrap;
            font-size: 15px;
            font-weight: 500;
            transition: opacity 0.3s;
        }

        .sidebar.collapsed .nav-text {
            opacity: 0;
            width: 0;
        }

        /* Logout Section */
        .logout-section {
            padding: 16px;
            border-top: 1px solid rgba(255,255,255,0.08);
        }

        .logout-btn {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 14px 18px;
            color: rgba(239, 68, 68, 0.8);
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.25s ease;
            cursor: pointer;
            width: 100%;
            border: none;
            background: transparent;
            font-size: 15px;
            font-weight: 500;
            font-family: inherit;
        }

        .logout-btn:hover {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        .logout-btn i {
            font-size: 20px;
            width: 24px;
            text-align: center;
            flex-shrink: 0;
        }

        .sidebar.collapsed .logout-btn .nav-text {
            opacity: 0;
            width: 0;
        }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            min-height: 100vh;
        }

        .sidebar.collapsed + .main-content {
            margin-left: var(--sidebar-collapsed);
        }

        /* Header */
        .header {
            background: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .mobile-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 22px;
            color: var(--dark);
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: background 0.2s;
        }

        .mobile-toggle:hover {
            background: var(--light);
        }

        .header-title h1 {
            font-size: 26px;
            color: var(--dark);
            margin-bottom: 4px;
            font-weight: 700;
        }

        .header-title p {
            color: var(--gray);
            font-size: 14px;
        }

        .header-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            padding: 12px 18px 12px 44px;
            border: 2px solid var(--gray-light);
            border-radius: 12px;
            width: 280px;
            font-size: 14px;
            transition: all 0.25s;
            background: var(--light);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
        }

        .search-box i {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
            font-size: 15px;
        }

        .header-btn {
            width: 44px;
            height: 44px;
            border: none;
            background: var(--light);
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: var(--gray);
            transition: all 0.25s;
            position: relative;
        }

        .header-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .notification-dot {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 10px;
            height: 10px;
            background: var(--danger);
            border-radius: 50%;
            border: 2px solid var(--light);
        }

        /* Content Area */
        .content {
            padding: 30px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            border: 1px solid var(--gray-light);
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.08);
            border-color: transparent;
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 18px;
        }

        .stat-icon {
            width: 52px;
            height: 52px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
        }

        .stat-icon.green {
            background: var(--primary-light);
            color: var(--primary);
        }

        .stat-icon.blue {
            background: #dbeafe;
            color: var(--secondary);
        }

        .stat-icon.orange {
            background: #fef3c7;
            color: var(--warning);
        }

        .stat-icon.red {
            background: #fee2e2;
            color: var(--danger);
        }

        .stat-trend {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 13px;
            font-weight: 600;
            padding: 6px 12px;
            border-radius: 20px;
        }

        .stat-trend.up {
            background: var(--primary-light);
            color: var(--primary-dark);
        }

        .stat-trend.down {
            background: #fee2e2;
            color: var(--danger);
        }

        .stat-value {
            font-size: 30px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 6px;
            letter-spacing: -0.5px;
        }

        .stat-label {
            color: var(--gray);
            font-size: 14px;
            font-weight: 500;
        }

        /* Map Section */
        .map-section {
            margin-bottom: 30px;
        }

        .map-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border: 1px solid var(--gray-light);
        }

        .map-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .map-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--dark);
        }

        .map-filters {
            display: flex;
            gap: 10px;
        }

        .map-filter-btn {
            padding: 8px 16px;
            border: 1px solid var(--gray-light);
            background: white;
            border-radius: 8px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.25s;
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 500;
        }

        .map-filter-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .map-filter-btn:hover:not(.active) {
            border-color: var(--primary);
            color: var(--primary);
        }

        #map {
            height: 400px;
            border-radius: 12px;
            z-index: 1;
        }

        /* Charts Grid */
        .charts-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
            margin-bottom: 30px;
        }

        .chart-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border: 1px solid var(--gray-light);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .chart-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--dark);
        }

        .chart-filter {
            display: flex;
            gap: 8px;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 1px solid var(--gray-light);
            background: white;
            border-radius: 8px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.25s;
            font-weight: 500;
        }

        .filter-btn.active,
        .filter-btn:hover {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        /* Custom Chart */
        .chart-container {
            height: 280px;
            position: relative;
        }

        .bar-chart {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 100%;
            padding: 20px 0;
        }

        .bar-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            flex: 1;
        }

        .bar {
            width: 36px;
            background: linear-gradient(180deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 8px 8px 0 0;
            transition: height 1s ease;
            position: relative;
            cursor: pointer;
        }

        .bar:hover {
            opacity: 0.85;
        }

        .bar-label {
            font-size: 12px;
            color: var(--gray);
            font-weight: 500;
        }

        /* Pie Chart */
        .pie-chart-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .pie-chart {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: conic-gradient(
                var(--primary) 0deg 144deg,
                var(--secondary) 144deg 216deg,
                var(--warning) 216deg 288deg,
                var(--danger) 288deg 360deg
            );
            position: relative;
        }

        .pie-chart::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 110px;
            height: 110px;
            background: white;
            border-radius: 50%;
        }

        .pie-legend {
            margin-top: 24px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 14px;
        }

        .legend-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .legend-dot.green { background: var(--primary); }
        .legend-dot.blue { background: var(--secondary); }
        .legend-dot.orange { background: var(--warning); }
        .legend-dot.red { background: var(--danger); }

        .legend-value {
            font-weight: 600;
            color: var(--dark);
        }

        /* Bottom Grid */
        .bottom-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
        }

        /* Tables */
        .table-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border: 1px solid var(--gray-light);
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .view-all-btn {
            padding: 10px 20px;
            background: var(--light);
            border: none;
            border-radius: 10px;
            color: var(--dark);
            font-size: 14px;
            cursor: pointer;
            transition: all 0.25s;
            font-weight: 500;
        }

        .view-all-btn:hover {
            background: var(--primary);
            color: white;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th,
        .data-table td {
            padding: 16px;
            text-align: left;
        }

        .data-table th {
            color: var(--gray);
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid var(--gray-light);
        }

        .data-table td {
            border-bottom: 1px solid var(--gray-light);
            font-size: 14px;
        }

        .data-table tr:hover td {
            background: var(--light);
        }

        .status-badge {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-badge.completed {
            background: var(--primary-light);
            color: var(--primary-dark);
        }

        .status-badge.pending {
            background: #fef3c7;
            color: #b45309;
        }

        .status-badge.processing {
            background: #dbeafe;
            color: #1d4ed8;
        }

        .truck-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .truck-icon {
            width: 40px;
            height: 40px;
            background: var(--light);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
        }

        /* Activity List */
        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .activity-item {
            display: flex;
            gap: 14px;
            align-items: flex-start;
        }

        .activity-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .activity-icon.collect {
            background: var(--primary-light);
            color: var(--primary);
        }

        .activity-icon.alert {
            background: #fee2e2;
            color: var(--danger);
        }

        .activity-icon.schedule {
            background: #dbeafe;
            color: var(--secondary);
        }

        .activity-content h4 {
            font-size: 14px;
            color: var(--dark);
            margin-bottom: 4px;
            font-weight: 600;
        }

        .activity-content p {
            font-size: 13px;
            color: var(--gray);
            margin-bottom: 4px;
        }

        .activity-time {
            font-size: 12px;
            color: var(--gray);
        }

        /* Floating Chat Button */
        .chat-fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.4);
            transition: all 0.3s ease;
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-fab:hover {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 6px 30px rgba(16, 185, 129, 0.5);
        }

        .chat-fab.pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 4px 20px rgba(16, 185, 129, 0.4); }
            50% { box-shadow: 0 4px 30px rgba(16, 185, 129, 0.7); }
            100% { box-shadow: 0 4px 20px rgba(16, 185, 129, 0.4); }
        }

        /* Chat Widget */
        .chat-widget {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            height: 450px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            z-index: 998;
            display: none;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid var(--gray-light);
        }

        .chat-widget.open {
            display: flex;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chat-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            padding: 20px;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chat-header h3::before {
            content: '';
            width: 8px;
            height: 8px;
            background: #4ade80;
            border-radius: 50%;
        }

        .chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.2s;
        }

        .chat-close:hover {
            opacity: 1;
        }

        .chat-body {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: var(--light);
        }

        .chat-message {
            margin-bottom: 16px;
            display: flex;
            flex-direction: column;
        }

        .chat-message.bot {
            align-items: flex-start;
        }

        .chat-message.user {
            align-items: flex-end;
        }

        .chat-bubble {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 16px;
            font-size: 14px;
            line-height: 1.5;
        }

        .chat-message.bot .chat-bubble {
            background: white;
            color: var(--dark);
            border-bottom-left-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .chat-message.user .chat-bubble {
            background: var(--primary);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .chat-time {
            font-size: 11px;
            color: var(--gray);
            margin-top: 4px;
        }

        .chat-footer {
            padding: 16px 20px;
            background: white;
            border-top: 1px solid var(--gray-light);
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid var(--gray-light);
            border-radius: 12px;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .chat-send {
            width: 44px;
            height: 44px;
            background: var(--primary);
            border: none;
            border-radius: 12px;
            color: white;
            cursor: pointer;
            transition: all 0.25s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-send:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
        }

        /* Overlay */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.4);
            z-index: 999;
            backdrop-filter: blur(2px);
        }

        .overlay.active {
            display: block;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-card,
        .chart-card,
        .table-card,
        .map-card {
            animation: fadeIn 0.5s ease forwards;
        }

        .stat-card:nth-child(1) { animation-delay: 0.1s; }
        .stat-card:nth-child(2) { animation-delay: 0.15s; }
        .stat-card:nth-child(3) { animation-delay: 0.2s; }
        .stat-card:nth-child(4) { animation-delay: 0.25s; }

        /* Responsive */
        @media (max-width: 1200px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .charts-grid,
            .bottom-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                width: 280px;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .sidebar.collapsed {
                width: 280px;
                transform: translateX(-100%);
            }

            .sidebar.collapsed .logo-text,
            .sidebar.collapsed .nav-text {
                opacity: 1;
                width: auto;
            }

            .main-content {
                margin-left: 0;
            }

            .mobile-toggle {
                display: block;
            }

            .search-box {
                display: none;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .header {
                padding: 16px 20px;
            }

            .content {
                padding: 20px;
            }

            .chat-widget {
                width: calc(100% - 40px);
                right: 20px;
                left: 20px;
            }

            .chat-fab {
                bottom: 20px;
                right: 20px;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gray-light);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gray);
        }
    </style>
<base target="_blank">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo-icon">
                <i class="fas fa-recycle"></i>
            </div>
            <span class="logo-text">EcoWaste</span>
        </div>

        <button class="toggle-btn" id="toggleSidebar">
            <i class="fas fa-chevron-left"></i>
        </button>

        <ul class="nav-menu">
            <li class="nav-item">
                <a class="nav-link active" data-page="dashboard">
                    <i class="fas fa-th-large"></i>
                    <span class="nav-text">Dashboard</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-page="data-sampah">
                    <i class="fas fa-trash-alt"></i>
                    <span class="nav-text">Data Sampah</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-page="maps">
                    <i class="fas fa-map-marked-alt"></i>
                    <span class="nav-text">Maps</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-page="charts">
                    <i class="fas fa-chart-pie"></i>
                    <span class="nav-text">Charts</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-page="import-csv">
                    <i class="fas fa-file-csv"></i>
                    <span class="nav-text">Import CSV</span>
                </a>
            </li>
        </ul>

        <div class="logout-section">
            <button class="logout-btn" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i>
                <span class="nav-text">Logout</span>
            </button>
        </div>
    </aside>

    <!-- Overlay for mobile -->
    <div class="overlay" id="overlay"></div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="mobile-toggle" id="mobileToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="header-title">
                    <h1>Dashboard</h1>
                    <p>Selamat datang kembali, berikut ringkasan hari ini</p>
                </div>
            </div>
            <div class="header-actions">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Cari data...">
                </div>
                <button class="header-btn">
                    <i class="fas fa-bell"></i>
                    <span class="notification-dot"></span>
                </button>
                <button class="header-btn">
                    <i class="fas fa-user"></i>
                </button>
            </div>
        </header>

        <!-- Content -->
        <div class="content">
            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon green">
                            <i class="fas fa-recycle"></i>
                        </div>
                        <div class="stat-trend up">
                            <i class="fas fa-arrow-up"></i>
                            <span>12%</span>
                        </div>
                    </div>
                    <div class="stat-value">2.847 kg</div>
                    <div class="stat-label">Total Sampah Terkumpul</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon blue">
                            <i class="fas fa-truck"></i>
                        </div>
                        <div class="stat-trend up">
                            <i class="fas fa-arrow-up"></i>
                            <span>8%</span>
                        </div>
                    </div>
                    <div class="stat-value">48</div>
                    <div class="stat-label">Jadwal Pengangkutan</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon orange">
                            <i class="fas fa-trash-alt"></i>
                        </div>
                        <div class="stat-trend down">
                            <i class="fas fa-arrow-down"></i>
                            <span>5%</span>
                        </div>
                    </div>
                    <div class="stat-value">156</div>
                    <div class="stat-label">Tempat Sampah Aktif</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon red">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-trend up">
                            <i class="fas fa-arrow-up"></i>
                            <span>3</span>
                        </div>
                    </div>
                    <div class="stat-value">12</div>
                    <div class="stat-label">Tempat Sampah Penuh</div>
                </div>
            </div>

            <!-- Map Section -->
            <div class="map-section">
                <div class="map-card">
                    <div class="map-header">
                        <h3 class="map-title"><i class="fas fa-map-marker-alt" style="color: var(--primary); margin-right: 8px;"></i>Peta Lokasi Tempat Sampah</h3>
                        <div class="map-filters">
                            <button class="map-filter-btn active">
                                <i class="fas fa-layer-group"></i> Semua
                            </button>
                            <button class="map-filter-btn">
                                <i class="fas fa-circle" style="color: var(--primary);"></i> Normal
                            </button>
                            <button class="map-filter-btn">
                                <i class="fas fa-circle" style="color: var(--danger);"></i> Penuh
                            </button>
                        </div>
                    </div>
                    <div id="map"></div>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="charts-grid">
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">Statistik Sampah Mingguan</h3>
                        <div class="chart-filter">
                            <button class="filter-btn active">Minggu</button>
                            <button class="filter-btn">Bulan</button>
                            <button class="filter-btn">Tahun</button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="bar-chart">
                            <div class="bar-item">
                                <div class="bar" style="height: 60%"></div>
                                <span class="bar-label">Sen</span>
                            </div>
                            <div class="bar-item">
                                <div class="bar" style="height: 80%"></div>
                                <span class="bar-label">Sel</span>
                            </div>
                            <div class="bar-item">
                                <div class="bar" style="height: 45%"></div>
                                <span class="bar-label">Rab</span>
                            </div>
                            <div class="bar-item">
                                <div class="bar" style="height: 90%"></div>
                                <span class="bar-label">Kam</span>
                            </div>
                            <div class="bar-item">
                                <div class="bar" style="height: 70%"></div>
                                <span class="bar-label">Jum</span>
                            </div>
                            <div class="bar-item">
                                <div class="bar" style="height: 55%"></div>
                                <span class="bar-label">Sab</span>
                            </div>
                            <div class="bar-item">
                                <div class="bar" style="height: 40%"></div>
                                <span class="bar-label">Min</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">Komposisi Sampah</h3>
                    </div>
                    <div class="pie-chart-container">
                        <div class="pie-chart"></div>
                        <div class="pie-legend">
                            <div class="legend-item">
                                <div class="legend-left">
                                    <div class="legend-dot green"></div>
                                    <span>Organik</span>
                                </div>
                                <span class="legend-value">40%</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-left">
                                    <div class="legend-dot blue"></div>
                                    <span>Plastik</span>
                                </div>
                                <span class="legend-value">20%</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-left">
                                    <div class="legend-dot orange"></div>
                                    <span>Kertas</span>
                                </div>
                                <span class="legend-value">20%</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-left">
                                    <div class="legend-dot red"></div>
                                    <span>Lainnya</span>
                                </div>
                                <span class="legend-value">20%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Grid -->
            <div class="bottom-grid">
                <div class="table-card">
                    <div class="table-header">
                        <h3 class="chart-title">Jadwal Pengangkutan Terbaru</h3>
                        <button class="view-all-btn">Lihat Semua</button>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Truck</th>
                                <th>Lokasi</th>
                                <th>Waktu</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#TRX-001</td>
                                <td>
                                    <div class="truck-info">
                                        <div class="truck-icon">
                                            <i class="fas fa-truck"></i>
                                        </div>
                                        <span>Truck A-101</span>
                                    </div>
                                </td>
                                <td>Jl. Sudirman No. 45</td>
                                <td>08:00 - 10:00</td>
                                <td><span class="status-badge completed">Selesai</span></td>
                            </tr>
                            <tr>
                                <td>#TRX-002</td>
                                <td>
                                    <div class="truck-info">
                                        <div class="truck-icon">
                                            <i class="fas fa-truck"></i>
                                        </div>
                                        <span>Truck B-202</span>
                                    </div>
                                </td>
                                <td>Jl. Thamrin No. 12</td>
                                <td>10:30 - 12:00</td>
                                <td><span class="status-badge processing">Berjalan</span></td>
                            </tr>
                            <tr>
                                <td>#TRX-003</td>
                                <td>
                                    <div class="truck-info">
                                        <div class="truck-icon">
                                            <i class="fas fa-truck"></i>
                                        </div>
                                        <span>Truck C-303</span>
                                    </div>
                                </td>
                                <td>Jl. Gatot Subroto</td>
                                <td>13:00 - 15:00</td>
                                <td><span class="status-badge pending">Menunggu</span></td>
                            </tr>
                            <tr>
                                <td>#TRX-004</td>
                                <td>
                                    <div class="truck-info">
                                        <div class="truck-icon">
                                            <i class="fas fa-truck"></i>
                                        </div>
                                        <span>Truck A-101</span>
                                    </div>
                                </td>
                                <td>Jl. Rasuna Said</td>
                                <td>15:30 - 17:00</td>
                                <td><span class="status-badge pending">Menunggu</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">Aktivitas Terbaru</h3>
                    </div>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon collect">
                                <i class="fas fa-truck"></i>
                            </div>
                            <div class="activity-content">
                                <h4>Pengangkutan Selesai</h4>
                                <p>Truck A-101 menyelesaikan rute</p>
                                <span class="activity-time">5 menit yang lalu</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon alert">
                                <i class="fas fa-exclamation"></i>
                            </div>
                            <div class="activity-content">
                                <h4>Tempat Sampah Penuh</h4>
                                <p>TPS-045 di Jl. Sudirman penuh</p>
                                <span class="activity-time">15 menit yang lalu</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon schedule">
                                <i class="fas fa-calendar"></i>
                            </div>
                            <div class="activity-content">
                                <h4>Jadwal Baru Ditambahkan</h4>
                                <p>Rute baru untuk wilayah utara</p>
                                <span class="activity-time">1 jam yang lalu</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon collect">
                                <i class="fas fa-recycle"></i>
                            </div>
                            <div class="activity-content">
                                <h4>Target Tercapai</h4>
                                <p>Harian 500kg sampah terkumpul</p>
                                <span class="activity-time">2 jam yang lalu</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Floating Chat Button -->
    <button class="chat-fab pulse" id="chatFab">
        <i class="fas fa-comments"></i>
    </button>

    <!-- Chat Widget -->
    <div class="chat-widget" id="chatWidget">
        <div class="chat-header">
            <h3>Assistant EcoWaste</h3>
            <button class="chat-close" id="chatClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="chat-body" id="chatBody">
            <div class="chat-message bot">
                <div class="chat-bubble">
                    Halo! Saya assistant EcoWaste. Ada yang bisa saya bantu terkait manajemen sampah hari ini? ðŸ˜Š
                </div>
                <span class="chat-time">Baru saja</span>
            </div>
        </div>
        <div class="chat-footer">
            <input type="text" class="chat-input" id="chatInput" placeholder="Ketik pesan...">
            <button class="chat-send" id="chatSend">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Sidebar Toggle
        const sidebar = document.getElementById('sidebar');
        const toggleBtn = document.getElementById('toggleSidebar');
        const mobileToggle = document.getElementById('mobileToggle');
        const overlay = document.getElementById('overlay');

        toggleBtn.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
        });

        mobileToggle.addEventListener('click', () => {
            sidebar.classList.add('open');
            overlay.classList.add('active');
        });

        overlay.addEventListener('click', () => {
            sidebar.classList.remove('open');
            overlay.classList.remove('active');
        });

        // Navigation Active State
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
            link.addEventListener('click', function() {
                navLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');
                
                // Update header title based on selected menu
                const page = this.getAttribute('data-page');
                const titles = {
                    'dashboard': 'Dashboard',
                    'data-sampah': 'Data Sampah',
                    'maps': 'Maps',
                    'charts': 'Charts',
                    'import-csv': 'Import CSV'
                };
                document.querySelector('.header-title h1').textContent = titles[page] || 'Dashboard';
                
                // Close sidebar on mobile
                if (window.innerWidth <= 768) {
                    sidebar.classList.remove('open');
                    overlay.classList.remove('active');
                }
            });
        });

        // Logout button
        document.getElementById('logoutBtn').addEventListener('click', () => {
            if (confirm('Apakah Anda yakin ingin logout?')) {
                alert('Logout berhasil!');
            }
        });

        // Filter Buttons
        const filterBtns = document.querySelectorAll('.filter-btn');
        filterBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                filterBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Map Filter Buttons
        const mapFilterBtns = document.querySelectorAll('.map-filter-btn');
        mapFilterBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                mapFilterBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Initialize Leaflet Map
        const map = L.map('map').setView([-6.2088, 106.8456], 13);
        
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© OpenStreetMap contributors'
        }).addTo(map);

        // Sample markers for trash bins
        const trashBins = [
            { lat: -6.2088, lng: 106.8456, status: 'normal', name: 'TPS-001' },
            { lat: -6.2050, lng: 106.8500, status: 'full', name: 'TPS-002' },
            { lat: -6.2120, lng: 106.8400, status: 'normal', name: 'TPS-003' },
            { lat: -6.2000, lng: 106.8550, status: 'normal', name: 'TPS-004' },
            { lat: -6.2150, lng: 106.8300, status: 'full', name: 'TPS-005' },
            { lat: -6.2100, lng: 106.8600, status: 'normal', name: 'TPS-006' },
        ];

        const normalIcon = L.divIcon({
            className: 'custom-marker',
            html: '<div style="background: #10b981; width: 24px; height: 24px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3);"></div>',
            iconSize: [24, 24],
            iconAnchor: [12, 12]
        });

        const fullIcon = L.divIcon({
            className: 'custom-marker',
            html: '<div style="background: #ef4444; width: 24px; height: 24px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3);"></div>',
            iconSize: [24, 24],
            iconAnchor: [12, 12]
        });

        trashBins.forEach(bin => {
            const marker = L.marker([bin.lat, bin.lng], {
                icon: bin.status === 'full' ? fullIcon : normalIcon
            }).addTo(map);
            
            marker.bindPopup(`
                <div style="font-family: inherit;">
                    <strong>${bin.name}</strong><br>
                    Status: <span style="color: ${bin.status === 'full' ? '#ef4444' : '#10b981'}; font-weight: 600;">
                        ${bin.status === 'full' ? 'Penuh' : 'Normal'}
                    </span>
                </div>
            `);
        });

        // Animate bars on load
        window.addEventListener('load', () => {
            const bars = document.querySelectorAll('.bar');
            bars.forEach((bar, index) => {
                const height = bar.style.height;
                bar.style.height = '0';
                setTimeout(() => {
                    bar.style.height = height;
                }, index * 80);
            });
        });

        // Chat Widget
        const chatFab = document.getElementById('chatFab');
        const chatWidget = document.getElementById('chatWidget');
        const chatClose = document.getElementById('chatClose');
        const chatInput = document.getElementById('chatInput');
        const chatSend = document.getElementById('chatSend');
        const chatBody = document.getElementById('chatBody');

        chatFab.addEventListener('click', () => {
            chatWidget.classList.toggle('open');
            chatFab.classList.remove('pulse');
            if (chatWidget.classList.contains('open')) {
                chatInput.focus();
            }
        });

        chatClose.addEventListener('click', () => {
            chatWidget.classList.remove('open');
        });

        function addMessage(text, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${isUser ? 'user' : 'bot'}`;
            messageDiv.innerHTML = `
                <div class="chat-bubble">${text}</div>
                <span class="chat-time">Baru saja</span>
            `;
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        function sendMessage() {
            const text = chatInput.value.trim();
            if (text) {
                addMessage(text, true);
                chatInput.value = '';
                
                // Simulate bot response
                setTimeout(() => {
                    const responses = [
                        'Baik, saya akan membantu Anda dengan informasi tersebut.',
                        'Terima kasih atas pertanyaannya. Berikut informasi yang Anda butuhkan.',
                        'Saya mengerti. Apakah ada hal lain yang bisa saya bantu?',
                        'Data tersebut telah tercatat dalam sistem kami.',
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addMessage(randomResponse);
                }, 1000);
            }
        }

        chatSend.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Simulate real-time updates
        setInterval(() => {
            const notificationDot = document.querySelector('.notification-dot');
            notificationDot.style.opacity = notificationDot.style.opacity === '0' ? '1' : '0';
        }, 2000);

        // View All button
        document.querySelector('.view-all-btn').addEventListener('click', () => {
            alert('Menampilkan semua jadwal pengangkutan...');
        });
    </script>
</body>
</html>